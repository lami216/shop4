@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
        font-family: "Cairo", "IBM Plex Arabic", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background-color: #f5f3ef;
        color: var(--text-dark);
        --text-dark: #1c1c1c;
        --text-light: #ffffff;
        --accent: #c9a227;
        --bg-card: #b8b3a5;
        --bg-dark: #0f0f10;
        --input-bg: var(--bg-card);
        --placeholder: #7a7a7a;
        --focus-outline: rgba(201, 162, 39, 0.25);
        --transition-base: 200ms ease-in-out;
}

body {
        background-color: #f5f3ef;
        color: var(--text-dark);
}

:root,
body {
        text-rendering: optimizeLegibility;
}

@layer base {
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        .section-title,
        .admin-title,
        .tab,
        .btn-link,
        .breadcrumb,
        .nav-link {
                color: var(--text-dark) !important;
        }

        :is(
                .dark,
                .bg-dark,
                .is-dark,
                [class*='bg-athath-charcoal'],
                [class*='bg-black'],
                [class*='bg-[#0f0f10'],
                [class*='bg-athath-wood']
        ) :is(
                h1,
                h2,
                h3,
                h4,
                h5,
                h6,
                .section-title,
                .admin-title,
                .tab,
                .btn-link,
                .breadcrumb,
                .nav-link
        ) {
                color: var(--text-light) !important;
        }

        :is(label, legend) {
                color: var(--accent);
        }

        input:not([type='checkbox']):not([type='radio']):not([type='range']),
        textarea,
        select {
                background-color: var(--input-bg) !important;
                color: var(--text-dark) !important;
                border: 1px solid var(--accent) !important;
                transition: border-color var(--transition-base), box-shadow var(--transition-base),
                        background-color var(--transition-base), color var(--transition-base);
        }

        input:not([type='checkbox']):not([type='radio']):not([type='range'])::placeholder,
        textarea::placeholder,
        select::placeholder {
                color: var(--placeholder) !important;
        }

        input:not([type='checkbox']):not([type='radio']):not([type='range']):focus,
        textarea:focus,
        select:focus {
                outline: none;
                border-color: var(--accent) !important;
                box-shadow: 0 0 0 3px var(--focus-outline);
        }

        input:not([type='checkbox']):not([type='radio']):not([type='range']):focus-visible,
        textarea:focus-visible,
        select:focus-visible {
                outline: none;
        }
}

.tab,
.btn-link,
.breadcrumb,
.nav-link {
        transition: color var(--transition-base), border-color var(--transition-base),
                background-color var(--transition-base), box-shadow var(--transition-base);
        color: var(--text-dark) !important;
}

.admin-tab {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 600;
        border: none;
        border-bottom: 2px solid transparent;
        background-color: transparent !important;
        color: var(--text-dark) !important;
        padding: 0.5rem 1rem;
        transition: border-color var(--transition-base), color var(--transition-base),
                background-color var(--transition-base), box-shadow var(--transition-base);
}

.admin-tab--active {
        border-bottom-color: var(--accent);
}

.admin-tab:hover,
.admin-tab:focus,
.admin-tab:active {
        color: var(--text-dark) !important;
        background-color: transparent !important;
        border-bottom-color: color-mix(in srgb, var(--accent) 70%, transparent);
}

.tab:hover,
.tab:focus,
.tab:active,
.btn-link:hover,
.btn-link:focus,
.btn-link:active,
.breadcrumb:hover,
.breadcrumb:focus,
.breadcrumb:active,
.nav-link:hover,
.nav-link:focus,
.nav-link:active {
        color: var(--text-dark) !important;
}

:is(.dark, .bg-dark, .is-dark)
        :is(.tab, .btn-link, .breadcrumb, .nav-link):is(:hover, :focus, :active),
:is(.dark, .bg-dark, .is-dark) :is(.tab, .btn-link, .breadcrumb, .nav-link) {
        color: var(--text-light) !important;
}

.on-gold {
        color: var(--text-dark) !important;
}

.on-gold:hover,
.on-gold:focus,
.on-gold:active {
        color: var(--text-dark) !important;
}

.discount-switch {
        position: relative;
        display: inline-flex;
        align-items: center;
        cursor: pointer;
}

.discount-switch__checkbox {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        margin: 0;
        opacity: 0;
        cursor: pointer;
}


.auto-contrast {
        color: color-mix(
                in srgb,
                var(--text-light) calc((1 - var(--bg-lightness, 0.5)) * 100%),
                var(--text-dark) calc(var(--bg-lightness, 0.5) * 100%)
        );
        transition: color var(--transition-base);
}

.bg-athath-gold,
.bg-athath-cream,
.bg-athath-ivory,
.bg-white,
.bg-athath-gold\/10,
.bg-white\/10 {
        --bg-lightness: 0.85;
}

.bg-athath-charcoal,
.bg-black,
.bg-athath-charcoal\/60,
.bg-athath-wood,
.bg-black\/60,
.bg-black\/80,
.bg-athath-charcoal\/80 {
        --bg-lightness: 0.15;
}

.discount-switch__slider {
        width: 60px;
        height: 30px;
        background-color: #dcd6c8;
        border-radius: 20px;
        overflow: hidden;
        display: flex;
        align-items: center;
        border: 2px solid var(--accent);
        transition: var(--transition-base);
        box-shadow: 0 0 10px 0 rgb(0 0 0 / 25%) inset;
        position: relative;
}

.discount-switch__slider::before {
        content: "";
        display: block;
        width: 100%;
        height: 100%;
        background-color: var(--text-light);
        transform: translateX(-30px);
        border-radius: 20px;
        transition: var(--transition-base);
        box-shadow: 0 0 10px 3px rgb(0 0 0 / 25%);
}

.discount-switch__checkbox:checked + .discount-switch__slider {
        background-color: var(--accent);
}

.discount-switch__checkbox:checked + .discount-switch__slider::before {
        transform: translateX(30px);
        box-shadow: 0 0 10px 3px rgb(0 0 0 / 25%);
}

.discount-switch__checkbox:active + .discount-switch__slider::before {
        transform: translateX(0);
}

.discount-switch__checkbox:focus-visible + .discount-switch__slider {
        outline: 2px solid var(--focus-outline);
        outline-offset: 2px;
}
